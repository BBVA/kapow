package server

import (
	"github.com/BBVA/kapow/internal/server/control"
	"github.com/BBVA/kapow/internal/server/data"
	"github.com/BBVA/kapow/internal/server/user"
)

// StartServer Starts one instance of each server in a goroutine and remains listening on a channel for trace events generated by them
func StartServer(controlBindAddr, dataBindAddr, userBindAddr string) {
	go control.Run(controlBindAddr)
	go data.Run(dataBindAddr)
	go user.Run(userBindAddr)

	// Wait for ever
	select {}
}
